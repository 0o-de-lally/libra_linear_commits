on:
  workflow_call:

jobs:
  set-up-build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out
        uses: actions/checkout@v3
      - name: Cache
        uses: ./.github/workflows/cache.yaml
      - name: Minimal Build Including Move Stdlib
        run: make stdlib
      # - name: Lint
      #   run: |
      #     cargo fmt --all -- --check
      #     cargo clippy -- -D warnings          
      # - name: Install cargo check tools
      #   run: |
      #     cargo install --locked cargo-deny || true
      #     cargo install --locked cargo-outdated || true
      #     cargo install --locked cargo-udeps || true
      #     cargo install --locked cargo-audit || true
      #     cargo install --locked cargo-pants || true          
      # - name: Check
      #   run: |
      #     cargo deny check
      #     cargo outdated --exit-code 1
      #     cargo udeps
      #     rm -rf ~/.cargo/advisory-db
      #     cargo audit
      #     cargo pants          
      # - name: Test
      #   run: cargo test